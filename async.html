<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비동기/동기</title>
</head>
<body>
    <script>
        let posts = [];

        // async function getPosts() {
        //     await fetch("https://jsonplaceholder.typicode.com/posts")
        //         .then(res => res.json())
        //         .then(json => posts = json);
        //     console.log(posts);
        // }
        

        async function getPosts() {
            let response = await fetch("https://jsonplaceholder.typicode.com/posts");
            let json = await response.json();
            // console.log(json);
            posts = json;
        }
        let init = async () => {
            await getPosts();
            console.log(posts);
        }
        init();
        // getPosts();

        
        // fetch("https://jsonplaceholder.typicode.com/posts")
        // .then(res => res.json())
        // .then(json => posts = json); //이걸 처리하는 사이에

        // console.log(posts); //이게 실행됨
    </script>
</body>
</html>